<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Boulot Match ‚Äì Test de personnalit√©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #f4f4fc; margin: 0; padding: 0; }
    .container { max-width: 800px; margin: 2rem auto; padding: 1rem; }
    .card { background: #fff; border-radius: 10px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 2rem; }
    .button { background: #4f46e5; color: white; border: none; padding: 0.8rem 1.2rem; font-size: 16px; border-radius: 8px; cursor: pointer; margin: 0.5rem 0; width: 100%; }
    .button:hover { background: #4338ca; }
    h1, h2, h3 { color: #1f2937; }
    .hidden { display: none; }
    .stat { margin: 1rem 0; }
    .progress-bar { background: #e0e7ff; border-radius: 4px; overflow: hidden; height: 12px; }
    .bar-fill { height: 100%; transition: width 0.5s ease; }

    .bar-creatif { background: #f59e0b; }
    .bar-structure { background: #3b82f6; }
    .bar-autonome { background: #10b981; }
    .bar-collab { background: #ec4899; }
    .bar-explo { background: #a855f7; }
    .bar-tech { background: #6b7280; }
  </style>
</head>
<body>
  <div class="container">
    <div id="intro" class="card">
      <h1>üîç Bienvenue sur Boulot Match</h1>
      <p>R√©ponds √† 20 questions pour d√©couvrir ton profil professionnel parmi 6 arch√©types. C‚Äôest parti !</p>
      <button class="button" onclick="startTest()">Commencer le test</button>
    </div>
    <div id="question" class="card hidden"></div>
    <div id="result" class="card hidden"></div>
  </div>

  <script>
    const profiles = {
      creatif:     { label: "üé® Cr√©atif¬∑ve Visionnaire", score: 0 },
      structure:   { label: "üèõ Strat√®ge Structur√©¬∑e", score: 0 },
      autonome:    { label: "üöÄ Autonome Engag√©¬∑e", score: 0 },
      collaboratif:{ label: "ü§ù Collaboratif¬∑ve Organis√©¬∑e", score: 0 },
      explorateur: { label: "üß≠ Explorateur¬∑rice Agile", score: 0 },
      technique:   { label: "üõ† Technicien¬∑ne M√©thodique", score: 0 }
    };

    let questions = [
  {
    text: "Quand tu d√©marres une nouvelle mission, tu pr√©f√®res...",
    options: [
      { text: "Laisser libre cours √† ta cr√©ativit√© pour innover", profile: "creatif" },
      { text: "Structurer les √©tapes et les objectifs", profile: "structure" },
      { text: "Explorer diff√©rents angles sans pression", profile: "explorateur" },
      { text: "Comprendre les besoins de l‚Äô√©quipe avant tout", profile: "collaboratif" }
    ]
  },
  {
    text: "Tu es seul¬∑e au bureau entre midi et deux. Tu :",
    options: [
      { text: "Regardes une vid√©o technique", profile: "technique" },
      { text: "Dessines une id√©e venue ce matin", profile: "creatif" },
      { text: "Pars marcher sans but", profile: "explorateur" },
      { text: "Proposes un caf√© √† des coll√®gues", profile: "collaboratif" }
    ]
  },
  {
    text: "Un¬∑e nouveau¬∑lle coll√®gue est perdu¬∑e. Tu :",
    options: [
      { text: "D√©jeunes seul¬∑e avec elle", profile: "autonome" },
      { text: "Pr√©pares un guide pratique", profile: "technique" },
      { text: "Organises un icebreaker d'√©quipe", profile: "collaboratif" },
      { text: "Lances une mini-mission personnalis√©e", profile: "creatif" }
    ]
  },
  {
    text: "Un projet flotte en visio, silence... Tu :",
    options: [
      { text: "Te proposes avec conditions claires", profile: "collaboratif" },
      { text: "Avances seul¬∑e dans ton coin", profile: "autonome" },
      { text: "Organises un kick-off structur√©", profile: "structure" },
      { text: "Proposes une approche d√©cal√©e", profile: "creatif" }
    ]
  },
  {
    text: "Tu veux d√©fendre un projet. Tu :",
    options: [
      { text: "Cr√©es un pitch chiffr√©", profile: "structure" },
      { text: "Montres une d√©mo visuelle", profile: "creatif" },
      { text: "Cherches du soutien collectif", profile: "collaboratif" },
      { text: "Tests l‚Äôid√©e directement", profile: "explorateur" }
    ]
  },
  {
    text: "Tu dois choisir entre deux t√¢ches urgentes. Tu :",
    options: [
      { text: "Choisis la plus strat√©gique", profile: "structure" },
      { text: "Aides les coll√®gues en priorit√©", profile: "collaboratif" },
      { text: "Suis ton instinct du moment", profile: "explorateur" },
      { text: "Optimises l'efficacit√© imm√©diate", profile: "technique" }
    ]
  },
  {
    text: "On critique ton travail, sans nuance. Tu :",
    options: [
      { text: "Recules et analyses √† froid", profile: "autonome" },
      { text: "Demandes des explications", profile: "collaboratif" },
      { text: "Corriges et expliques", profile: "technique" },
      { text: "Imagines une autre version", profile: "creatif" }
    ]
  },
  {
    text: "On te propose un r√¥le d‚Äôambassadeur. Tu :",
    options: [
      { text: "Acceptes avec cadre clair", profile: "structure" },
      { text: "Refuses pour rester concentr√©¬∑e", profile: "technique" },
      { text: "Acceptes avec enthousiasme", profile: "collaboratif" },
      { text: "Acceptes avec un format original", profile: "creatif" }
    ]
  },
  {
    text: "Tu d√©barques dans un nouveau poste. Tu :",
    options: [
      { text: "Explores les fichiers seul¬∑e", profile: "autonome" },
      { text: "Invites les coll√®gues √† discuter", profile: "collaboratif" },
      { text: "Cr√©es un tableau de bord", profile: "technique" },
      { text: "Rep√®res ce qui pourrait √™tre am√©lior√©", profile: "creatif" }
    ]
  },
  {
    text: "Tu dois lancer un projet inconnu. Tu :",
    options: [
      { text: "Organises une vision collective", profile: "collaboratif" },
      { text: "Proposes une structure initiale", profile: "structure" },
      { text: "Cr√©es une version test", profile: "explorateur" },
      { text: "Casses les codes d√®s le d√©part", profile: "creatif" }
    ]
  },
  {
    text: "Ton manager part 3 semaines. Tu :",
    options: [
      { text: "Organises un suivi libre", profile: "collaboratif" },
      { text: "Mets √† jour l‚Äôorganisation", profile: "technique" },
      { text: "Tests une nouvelle m√©thode", profile: "explorateur" },
      { text: "Avances seul¬∑e, sans probl√®me", profile: "autonome" }
    ]
  }
    ]; // ‚Üê FIN DU TABLEAU DE QUESTIONS

    let currentQuestion = 0;

    function shuffleArray(array) {
      return [...array].sort(() => Math.random() - 0.5);
    }

    function startTest() {
      document.getElementById("intro").classList.add("hidden");
      document.getElementById("question").classList.remove("hidden");
      questions = shuffleArray(questions);
      currentQuestion = 0;
      Object.keys(profiles).forEach(p => profiles[p].score = 0); // reset
      showQuestion();
    }

    function showQuestion() {
      const q = questions[currentQuestion];
      const container = document.getElementById("question");
      const options = shuffleArray(q.options);
      let html = `<h2>Question ${currentQuestion + 1} / ${questions.length}</h2><p>${q.text}</p>`;
      options.forEach(opt => {
        html += `<button class="button" onclick="selectAnswer('${opt.profile}')">${opt.text}</button>`;
      });
      container.innerHTML = html;
    }

    function selectAnswer(profile) {
      profiles[profile].score += 1;
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        showResult();
      }
    }
    function showResult() {
      document.getElementById("question").classList.add("hidden");
      const container = document.getElementById("result");
      container.classList.remove("hidden");

      const total = Object.values(profiles).reduce((sum, p) => sum + p.score, 0);
      const scores = Object.entries(profiles).map(([key, p]) => ({
        key,
        label: p.label,
        percent: total ? Math.round((p.score / total) * 100) : 0
      })).sort((a, b) => b.percent - a.percent);

      const dominant = scores[0];
      const secondary = scores[1];

      let html = `<h2>Ton profil dominant : ${dominant.label}</h2>`;
      html += `<p>Tu pr√©sentes aussi des traits de : <strong>${secondary.label}</strong></p>`;
      html += `<h3>Profil d√©taill√© :</h3>`;

      scores.forEach(s => {
        html += `
          <div class="stat">
            <strong>${s.label} ‚Äì ${s.percent}%</strong>
            <div class="progress-bar">
              <div class="bar-fill bar-${s.key}" style="width:${s.percent}%"></div>
            </div>
          </div>
        `;
      });

      html += `<br><button class="button" onclick="location.reload()">Rejouer</button>`;
      container.innerHTML = html;
    }
  </script>
</body>
</html>
