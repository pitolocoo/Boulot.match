<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Boulot Match ‚Äì Test de personnalit√© pro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #f9fafb; margin: 0; padding: 0; }
    .container { max-width: 800px; margin: 2rem auto; padding: 1rem; }
    .card { background: #fff; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 20px rgba(0,0,0,0.1); margin-bottom: 2rem; }
    .button { display: block; background: #4f46e5; color: white; border: none; padding: 0.8rem; border-radius: 8px; font-size: 1rem; margin: 0.5rem 0; cursor: pointer; }
    .button:hover { background: #4338ca; }
    h1, h2 { color: #111827; }
    .hidden { display: none; }
    .progress-bar { background: #e0e7ff; border-radius: 5px; overflow: hidden; height: 14px; margin-top: 5px; }
    .bar-fill { height: 100%; background: #6366f1; transition: width 0.5s ease; }
    .stat { margin-bottom: 1rem; }
  </style>
</head>
<body>
  <div class="container">
    <div id="intro" class="card">
      <h1>üîç Bienvenue sur Boulot Match</h1>
      <p>R√©ponds √† 20 questions pour d√©couvrir ton profil professionnel parmi 6 arch√©types diff√©rents. √Ä toi de jouer !</p>
      <button class="button" onclick="startTest()">Commencer le test</button>
    </div>

    <div id="question" class="card hidden"></div>
    <div id="result" class="card hidden"></div>
  </div>

  <script>
    const profiles = {
      "creatif": { label: "üé® Cr√©atif¬∑ve Visionnaire", score: 0 },
      "structure": { label: "üèõ Strat√®ge Structur√©¬∑e", score: 0 },
      "autonome": { label: "üöÄ Autonome Engag√©¬∑e", score: 0 },
      "collaboratif": { label: "ü§ù Collaboratif¬∑ve Organis√©¬∑e", score: 0 },
      "explorateur": { label: "üß≠ Explorateur¬∑rice Agile", score: 0 },
      "technique": { label: "üõ† Technicien¬∑ne M√©thodique", score: 0 }
    };

    let questions = [
      {
        text: "Quand tu d√©marres une nouvelle mission, tu pr√©f√®res...",
        options: [
          { text: "Laisser libre cours √† ta cr√©ativit√© pour innover", profile: "creatif" },
          { text: "Structurer les √©tapes et les objectifs", profile: "structure" },
          { text: "Explorer diff√©rents angles sans pression", profile: "explorateur" },
          { text: "Comprendre les besoins de l‚Äô√©quipe avant tout", profile: "collaboratif" }
        ]
      },
      // (Les 19 autres questions seront ajout√©es dans la suite)
    ];

    let currentQuestion = 0;
    let answers = [];

    function shuffleArray(array) {
      return [...array].sort(() => Math.random() - 0.5);
    }

    function startTest() {
      document.getElementById("intro").classList.add("hidden");
      document.getElementById("question").classList.remove("hidden");
      questions = shuffleArray(questions);
      showQuestion();
    }
  {
    text: "Tu es seul¬∑e au bureau, entre midi et deux. Tu as une heure de libre. Tu :",
    options: [
      { text: "Regardes une vid√©o technique √† approfondir", profile: "technique" },
      { text: "Dessines ou notes une id√©e cr√©ative", profile: "creatif" },
      { text: "Pars marcher sans objectif pr√©cis", profile: "explorateur" },
      { text: "Proposes un caf√© √† tes coll√®gues", profile: "collaboratif" }
    ]
  },
  {
    text: "Un¬∑e nouveau¬∑lle coll√®gue arrive, un peu perdue. Tu :",
    options: [
      { text: "Lui proposes un temps calme en face-√†-face", profile: "autonome" },
      { text: "Pr√©pares un document de rep√®res", profile: "technique" },
      { text: "Lances un icebreaker en √©quipe", profile: "collaboratif" },
      { text: "Lui proposes une mission personnelle", profile: "creatif" }
    ]
  },
  {
    text: "En visio, un projet important flotte sans preneur. Tu :",
    options: [
      { text: "Te proposes si les r√¥les sont clairs", profile: "collaboratif" },
      { text: "R√©fl√©chis seul¬∑e et avances discr√®tement", profile: "autonome" },
      { text: "Organises un kick-off pr√©cis", profile: "structure" },
      { text: "Lances une id√©e originale", profile: "creatif" }
    ]
  },
  {
    text: "Tu crois en un projet. Pour convaincre ta direction, tu :",
    options: [
      { text: "Pr√©pares un pitch argument√©", profile: "structure" },
      { text: "Montres un prototype visuel", profile: "creatif" },
      { text: "Rassembles du soutien collectif", profile: "collaboratif" },
      { text: "Tests avec quelques utilisateurs", profile: "explorateur" }
    ]
  },
  {
    text: "Tu dois choisir entre deux t√¢ches importantes. Tu :",
    options: [
      { text: "Choisis la plus strat√©gique", profile: "structure" },
      { text: "Celle qui d√©bloque le plus l‚Äô√©quipe", profile: "collaboratif" },
      { text: "Celle qui te stimule sur le moment", profile: "explorateur" },
      { text: "Celle qui peut √™tre finie efficacement", profile: "technique" }
    ]
  },
  {
    text: "Tu re√ßois un feedback n√©gatif sec. Tu :",
    options: [
      { text: "Prends du recul en solo", profile: "autonome" },
      { text: "Poses des questions pour clarifier", profile: "collaboratif" },
      { text: "Am√©liores ton livrable avec rigueur", profile: "technique" },
      { text: "Imagines une nouvelle approche", profile: "creatif" }
    ]
  },
  {
    text: "On te propose un r√¥le d‚Äôambassadeur inter-√©quipes. Tu :",
    options: [
      { text: "Acceptes si les r√¥les sont clairs", profile: "structure" },
      { text: "Refuses pour te concentrer sur ta t√¢che", profile: "technique" },
      { text: "Acceptes avec enthousiasme", profile: "collaboratif" },
      { text: "Proposes un format cr√©atif", profile: "creatif" }
    ]
  },
  {
    text: "Tu commences un nouveau poste sans explication. Tu :",
    options: [
      { text: "Te formes en solo dans les documents", profile: "autonome" },
      { text: "Invites des coll√®gues √† d√©jeuner", profile: "collaboratif" },
      { text: "Cr√©es un tableau de bord perso", profile: "technique" },
      { text: "Rep√®res les failles √† am√©liorer", profile: "creatif" }
    ]
  },
  {
    text: "On te propose de piloter un projet nouveau. Tu :",
    options: [
      { text: "Organises une vision collective", profile: "collaboratif" },
      { text: "Proposes une premi√®re architecture", profile: "structure" },
      { text: "Tests une version rapide", profile: "explorateur" },
      { text: "Proposes un format d√©cal√©", profile: "creatif" }
    ]
  },
  {
    text: "Ton manager part 3 semaines. Tu :",
    options: [
      { text: "Cr√©es un point hebdo avec libert√©", profile: "collaboratif" },
      { text: "Mets √† jour le tableau de bord", profile: "technique" },
      { text: "Supprimes des rituels inefficaces", profile: "explorateur" },
      { text: "Continues ton travail en autonomie", profile: "autonome" }
    ]
  }
    function showQuestion() {
      const q = questions[currentQuestion];
      const container = document.getElementById("question");
      const options = shuffleArray(q.options);
      let html = `<h2>Question ${currentQuestion + 1} / ${questions.length}</h2><p>${q.text}</p>`;
      options.forEach(opt => {
        html += `<button class="button" onclick="selectAnswer('${opt.profile}')">${opt.text}</button>`;
      });
      container.innerHTML = html;
    }

    function selectAnswer(profile) {
      profiles[profile].score += 1;
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      document.getElementById("question").classList.add("hidden");
      const container = document.getElementById("result");
      container.classList.remove("hidden");

      // Calcule des pourcentages
      const total = Object.values(profiles).reduce((sum, p) => sum + p.score, 0);
      const scores = Object.entries(profiles).map(([key, p]) => ({
        label: p.label,
        score: p.score,
        percent: total ? Math.round((p.score / total) * 100) : 0
      })).sort((a, b) => b.percent - a.percent);

      const dominant = scores[0];
      const secondary = scores[1];

      let html = `<h2>Ton profil dominant : ${dominant.label}</h2>`;
      html += `<p>Mais tu pr√©sentes aussi des traits de : <strong>${secondary.label}</strong></p>`;
      html += `<h3>Profil d√©taill√© :</h3><div class="stats">`;

      scores.forEach(s => {
        html += `
          <div class="stat">
            <strong>${s.label} ‚Äì ${s.percent}%</strong>
            <div class="progress-bar"><div class="bar-fill" style="width:${s.percent}%; background-color: ${
              s.label.includes("Cr√©atif") ? "#f59e0b" :
              s.label.includes("Strat√®ge") ? "#3b82f6" :
              s.label.includes("Autonome") ? "#10b981" :
              s.label.includes("Collaboratif") ? "#ec4899" :
              s.label.includes("Explorateur") ? "#a855f7" :
              "#6b7280"
            }"></div></div>
          </div>`;
      });
