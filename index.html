<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boulot Match ‚Äì Version 6 Profils</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f0f4ff;
      color: #333;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
    }
    .card {
      background: white;
      border-radius: 16px;
      padding: 2rem;
      margin: 1rem 0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    .button {
      background-color: #4f46e5;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 8px;
      margin: 0.5rem 0;
      cursor: pointer;
      width: 100%;
      font-size: 16px;
    }
    .button:hover {
      background-color: #4338ca;
    }
    h1, h2 { color: #1f2937; }
    .hidden { display: none; }
    .stats {
      text-align: left;
      background: #eef2ff;
      padding: 1rem;
      border-radius: 10px;
      margin-top: 1rem;
    }
    .stat-entry { margin-bottom: 12px; }
    .bar {
      height: 12px;
      border-radius: 4px;
      margin: 4px 0 6px;
      background-color: #d1d5ff;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="intro" class="card">
      <h1>Boulot Match üîç</h1>
      <p>R√©ponds √† 10 questions al√©atoires pour d√©couvrir ton profil professionnel parmi 6 possibilit√©s, avec une vraie analyse nuanc√©e !</p>
      <button class="button" onclick="startGame()">Commencer</button>
    </div>
    <div id="game" class="card hidden"></div>
  </div>

  <script>
    const questions = [
      { text: "Comment pr√©f√®res-tu d√©marrer une journ√©e de travail ?", options: [
        { text: "Par une r√©union d'√©quipe", axis: "collab" },
        { text: "En solo avec mes objectifs", axis: "indep" },
        { text: "Avec un caf√© et un brainstorming", axis: "crea" },
        { text: "En suivant un rituel pr√©cis", axis: "structure" }
      ]},
      { text: "Tu te sens le plus utile quand...", options: [
        { text: "Tu r√®gles des probl√®mes techniques", axis: "method" },
        { text: "Tu fais avancer le collectif", axis: "collab" },
        { text: "Tu proposes une nouvelle vision", axis: "crea" },
        { text: "Tu explores de nouvelles approches", axis: "explorer" }
      ]},
      { text: "Ton bureau id√©al ?", options: [
        { text: "Un atelier bien √©quip√©", axis: "method" },
        { text: "Un open-space dynamique", axis: "collab" },
        { text: "Un lieu calme en remote", axis: "indep" },
        { text: "Un espace de coworking cr√©atif", axis: "explorer" }
      ]},
      { text: "Ton rapport aux r√®gles ?", options: [
        { text: "Utile pour avancer efficacement", axis: "structure" },
        { text: "√Ä contourner quand c'est n√©cessaire", axis: "crea" },
        { text: "Je cr√©e les miennes", axis: "indep" },
        { text: "√Ä adapter selon les situations", axis: "explorer" }
      ]},
      { text: "Tu pr√©f√®res apprendre...", options: [
        { text: "Sur le terrain avec les autres", axis: "collab" },
        { text: "En autodidacte", axis: "indep" },
        { text: "En suivant une m√©thode claire", axis: "structure" },
        { text: "En testant des id√©es originales", axis: "crea" }
      ]},
      { text: "Dans un projet, tu es plut√¥t...", options: [
        { text: "Le garant de la rigueur", axis: "method" },
        { text: "Celui qui motive les troupes", axis: "collab" },
        { text: "La t√™te chercheuse", axis: "explorer" },
        { text: "L'esprit libre qui invente", axis: "crea" }
      ]},
      { text: "Ce qui te booste le plus ?", options: [
        { text: "Des id√©es √† tester", axis: "explorer" },
        { text: "Un plan structur√©", axis: "structure" },
        { text: "Une mission en autonomie", axis: "indep" },
        { text: "Une √©quipe soud√©e", axis: "collab" }
      ]},
      { text: "Tu aimes quand...", options: [
        { text: "Il y a de la nouveaut√©", axis: "crea" },
        { text: "Les process sont clairs", axis: "structure" },
        { text: "On peut collaborer facilement", axis: "collab" },
        { text: "Je peux am√©liorer l‚Äôexistant", axis: "method" }
      ]},
      { text: "On te dit souvent que tu es...", options: [
        { text: "Cr√©atif¬∑ve", axis: "crea" },
        { text: "Fiable et m√©thodique", axis: "method" },
        { text: "Positif¬∑ve et humain¬∑e", axis: "collab" },
        { text: "Visionnaire et autonome", axis: "indep" }
      ]},
      { text: "Ton type d‚Äôentreprise r√™v√©e ?", options: [
        { text: "Une startup innovante", axis: "crea" },
        { text: "Une organisation stable et claire", axis: "structure" },
        { text: "Une structure horizontale et libre", axis: "indep" },
        { text: "Un collectif pluridisciplinaire", axis: "explorer" }
      ]}
    ];

    const profiles = {
      crea: { icon: "üé®", name: "Le¬∑la Cr√©atif¬∑ve Visionnaire" },
      structure: { icon: "üèõ", name: "Le¬∑la Strat√®ge Structur√©¬∑e" },
      indep: { icon: "üöÄ", name: "L'Autonome Engag√©¬∑e" },
      collab: { icon: "ü§ù", name: "Le¬∑la Collaboratif¬∑ve Organis√©¬∑e" },
      explorer: { icon: "üß≠", name: "L'Explorateur¬∑rice Agile" },
      method: { icon: "üõ†", name: "Le¬∑la Technicien¬∑ne M√©thodique" }
    };

    let current = 0;
    const scores = { crea: 0, structure: 0, indep: 0, collab: 0, explorer: 0, method: 0 };

    function startGame() {
      current = 0;
      Object.keys(scores).forEach(k => scores[k] = 0);
      questions.forEach(q => shuffle(q.options));
      shuffle(questions);
      document.getElementById('intro').classList.add('hidden');
      document.getElementById('game').classList.remove('hidden');
      showQuestion();
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function showQuestion() {
      const q = questions[current];
      const div = document.getElementById('game');
      div.innerHTML = `<h2>Question ${current + 1}/10</h2><p>${q.text}</p>`;
      q.options.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'button';
        btn.innerText = opt.text;
        btn.onclick = () => answer(opt.axis);
        div.appendChild(btn);
      });
    }

    function answer(axis) {
      scores[axis]++;
      current++;
      current < 10 ? showQuestion() : showResult();
    }

    function showResult() {
      const total = Object.values(scores).reduce((a, b) => a + b, 0);
      const sorted = Object.entries(scores).sort((a,b) => b[1] - a[1]);
      const [main, second] = [sorted[0], sorted[1]];
      const div = document.getElementById('game');

      let html = `
        <h2>${profiles[main[0]].icon} ${profiles[main[0]].name}</h2>
        <p>Tu corresponds principalement au profil <strong>${profiles[main[0]].name}</strong>. Tu exprimes une forte tendance √† fonctionner dans cet univers, mais tu as aussi des nuances int√©ressantes !</p>
        <h3>üìä Ton profil d√©taill√© :</h3>
        <div class="stats">
      `;

      sorted.forEach(([k, v]) => {
        const percent = Math.round((v / total) * 100);
        html += `<div class="stat-entry">
          <div>${profiles[k].icon} ${profiles[k].name} ‚Äì ${percent}%</div>
          <div class="bar" style="width:${percent}%; background-color:${getColor(k)}"></div>
        </div>`;
      });

      html += `</div>
        <p>On remarque aussi une vraie sensibilit√© vers <strong>${profiles[second[0]].name}</strong>. Tu es une personne compl√®te, capable d‚Äôagir dans plusieurs contextes selon les besoins.</p>
        <button class="button" onclick="location.reload()">Rejouer</button>
      `;

      div.innerHTML = html;
    }

    function getColor(type) {
      return {
        crea: '#a78bfa',
        structure: '#60a5fa',
        indep: '#fbbf24',
        collab: '#34d399',
        explorer: '#f472b6',
        method: '#9ca3af'
      }[type];
    }
  </script>
</body>
</html>
